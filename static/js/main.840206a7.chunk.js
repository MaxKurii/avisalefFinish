(this["webpackJsonpaviasales-finish"]=this["webpackJsonpaviasales-finish"]||[]).push([[0],{31:function(e,t,a){},33:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a(1),n=a.n(r),s=a(23),i=a.n(s),l=a(4),o=a(25);a(31);function u(){return Object(c.jsxs)("header",{className:"header",children:[Object(c.jsx)("div",{className:"logo",children:Object(c.jsx)("img",{className:"logo_img",src:"./img/fly-logo-6847AA295E-seeklogo.com.png",alt:"logo"})}),Object(c.jsx)("div",{className:"title",children:Object(c.jsx)("h1",{children:"Aviasales"})}),Object(c.jsxs)("nav",{className:"nav",children:[Object(c.jsx)("div",{className:"nav__item",children:Object(c.jsx)("a",{href:"https://translate.google.com.ua",target:"blanck",alt:"HomePage",children:"HomePage"})}),Object(c.jsx)("div",{className:"nav__item",children:Object(c.jsx)("a",{href:"https://translate.google.com.ua",target:"blanck",alt:"Support",children:"Support"})}),Object(c.jsx)("div",{className:"nav__item",children:Object(c.jsx)("a",{href:"https://translate.google.com.ua",target:"blanck",alt:"Login",children:"Login"})})]})]})}var j=a(8),d=a(5),b=a.n(d),h=a(7),p=(a(33),function(e){var t=e.withDropDown,a=e.value,n=e.onChange,s=e.placeholder,i=e.type,o=void 0===i?"text":i,u=e.data,j=Object(r.useState)(a),d=Object(l.a)(j,2),b=d[0],h=d[1],p=Object(r.useState)([]),m=Object(l.a)(p,2),O=m[0],f=m[1];return Object(c.jsxs)("div",{className:"input",children:[Object(c.jsxs)("label",{children:[Object(c.jsx)("span",{className:"label_text",children:s}),Object(c.jsx)("input",{onChange:function(e){if(t){h(e.target.value);var a=u.filter((function(t){return t.name.toLowerCase().startsWith(e.target.value.toLowerCase())}));f(a)}else h(e.target.value),n(e.target.value)},value:b,type:o,className:"input__cities-from",required:!0})]}),t&&Object(c.jsx)("ul",{className:"dropdown dropdown__cities-from",children:b&&O.map((function(e){return Object(c.jsx)("li",{className:"dropdown__city",onClick:function(){return function(e){n(e),h(e),f([])}(e.name)},children:e.name},e.code)}))})]})}),m=a(11),O=a.n(m),f="889b033a2665ef3bd21fde2b8a4d1731",v="https://min-prices.aviasales.ru/calendar_preload";function x(e){return g.apply(this,arguments)}function g(){return(g=Object(h.a)(b.a.mark((function e(t){var a,c,r,n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.from,c=t.to,r=t.when,n="?currency=usd&depart_date=".concat(r,"&origin=").concat(a.code)+"&destination=".concat(c.code,"&one_way=true")+f,e.prev=2,e.next=5,O.a.get(v+n);case 5:return s=e.sent,e.abrupt("return",s.data);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return","<h3>\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u0438\u044e \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0434\u0430\u0442\u0443 \u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u043d\u0435 \u043d\u0430\u0448\u043b\u043e\u0441\u044c!</h3");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var _=function(e){var t,a=e.gate,r=e.from,n=e.to,s=e.value,i=e.depart_date,l=e.number_of_changes,o=e.destination,u=e.origin;return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{className:"agent",children:a}),Object(c.jsxs)("div",{className:"ticket__wrapper",children:[Object(c.jsx)("div",{className:"left-side",children:Object(c.jsxs)("a",{href:function(){var e="https://www.aviasales.ua/search/";e+=u;var t=new Date(i),a=t.getDate();e+=a<10?"0"+a:a;var c=t.getMonth()+1;return e+=c<10?"0"+c:c,e+=o,e+="1"}(),target:"_blank",className:"button button__buy",rel:"noreferrer",children:["\u041a\u0443\u043f\u0438\u0442\u044c \u0437\u0430\xa0",s.toString().split(".")[0],"\u20bd"]})}),Object(c.jsxs)("div",{className:"right-side",children:[Object(c.jsxs)("div",{className:"block-left",children:[Object(c.jsxs)("div",{className:"city__from",children:["\u0412\u044b\u043b\u0435\u0442 \u0438\u0437 \u0433\u043e\u0440\u043e\u0434\u0430 :",Object(c.jsx)("span",{className:"city__name",children:r})]}),Object(c.jsx)("div",{className:"date",children:(t=i,new Date(t).toLocaleString("ru",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}))})]}),Object(c.jsxs)("div",{className:"block-right",children:[Object(c.jsx)("div",{className:"changes",children:0===l?"\u0420\u0435\u0439\u0441 \u0431\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a":"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a: ".concat(l)}),Object(c.jsxs)("div",{className:"city__to",children:["\u0413\u043e\u0440\u043e\u0434 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f:",Object(c.jsx)("span",{className:"city__name",children:n})]})]})]})]})]})};function w(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1],s=Object(r.useState)(""),i=Object(l.a)(s,2),o=i[0],u=i[1],d=Object(r.useState)(""),m=Object(l.a)(d,2),f=m[0],v=m[1],g=Object(r.useState)(""),w=Object(l.a)(g,2),N=w[0],k=w[1],y=Object(r.useState)([]),S=Object(l.a)(y,2),C=S[0],D=S[1],L=Object(r.useState)(!1),A=Object(l.a)(L,2),E=A[0],P=A[1],H=Object(r.useCallback)(Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://cors-anywhere.herokuapp.com/https://api.travelpayouts.com/data/ru/cities.json").then((function(e){return e.data}));case 2:t=e.sent,n(t);case 4:case"end":return e.stop()}}),e)}))),[n]);Object(r.useEffect)((function(){H()}),[H]);var J=function(){var e=Object(h.a)(b.a.mark((function e(t){var c,r,n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c=a.filter((function(e){return e.name===o}))[0],r=a.filter((function(e){return e.name===f}))[0],n={from:c,to:r,when:N},e.next=6,x(n);case 6:if(s=e.sent,console.log(s),s.best_prices){e.next=10;break}return e.abrupt("return",alert("\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u043d\u0430 \u044d\u0442\u0443 \u0434\u0430\u0442\u0443 \u043d\u0435 \u043d\u0430\u0448\u043b\u043e\u0441\u044c"));case 10:D(s.best_prices.sort((function(e,t){return e.value-t.value}))),P(!0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("main",{children:[Object(c.jsx)("section",{className:"wrapper",children:Object(c.jsxs)("form",{className:"form-search",onSubmit:J,children:[Object(c.jsxs)("div",{className:"wrapper__search",children:[Object(c.jsx)(p,{withDropDown:!0,placeholder:"\u041e\u0442\u043a\u0443\u0434\u0430",data:a,value:o,onChange:u}),Object(c.jsx)(p,{withDropDown:!0,placeholder:"\u041a\u0443\u0434\u0430",data:a,value:f,onChange:v}),Object(c.jsx)(p,{type:"date",placeholder:"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435",value:N,onChange:k})]}),Object(c.jsx)("div",{className:"wrapper__button",children:Object(c.jsx)("button",{type:"submit",className:"button button__search",children:Object(c.jsx)("span",{className:"button__search-text",children:"\u041d\u0430\u0439\u0442\u0438 \u0431\u0438\u043b\u0435\u0442\u044b"})})})]})}),Object(c.jsxs)("section",{className:"wrapper",children:[Object(c.jsxs)("section",{className:E?"wrapper":"wrapper__ticket",id:"cheapest-ticket",children:[Object(c.jsx)("h2",{children:"\u0421\u0430\u043c\u044b\u0435 \u0434\u0435\u0448\u0435\u0432\u044b\u0435 \u0431\u0438\u043b\u0435\u0442\u044b \u043d\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u0443\u044e \u0434\u0430\u0442\u0443"}),C.filter((function(e){return e.depart_date===N})).map((function(e){return Object(c.jsx)(_,Object(j.a)(Object(j.a)({},e),{},{from:o,to:f}),e.value)}))]}),Object(c.jsxs)("section",{className:E?"wrapper":"block__ticket",id:"other-cheap-tickets",children:[Object(c.jsx)("h2",{children:"\u0421\u0430\u043c\u044b\u0435 \u0434\u0435\u0448\u0435\u0432\u044b\u0435 \u0431\u0438\u043b\u0435\u0442\u044b \u043d\u0430 \u0434\u0440\u0443\u0433\u0438\u0435 \u0434\u0430\u0442\u044b"}),C.filter((function(e){return e.depart_date!==N})).filter((function(e,t){return t<10})).map((function(e){return Object(c.jsx)(_,Object(j.a)(Object(j.a)({},e),{},{from:o,to:f}),e.value)}))]})]})]})}var N={cityes:[]},k=Object(r.createContext)();function y(){}var S=function(){var e=Object(r.useReducer)(y,N),t=Object(l.a)(e,2),a=t[0],n=t[1];return Object(c.jsx)(k.Provider,{value:{dispatch:n,state:a},children:Object(c.jsxs)(o.a,{children:[Object(c.jsx)(u,{}),Object(c.jsx)(w,{})]})})};a(57);i.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(S,{})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.840206a7.chunk.js.map